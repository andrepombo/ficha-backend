<!DOCTYPE html>
<html>
<head>
    <title>Test Partial Save</title>
</head>
<body>
    <h1>Test Partial Save Endpoint</h1>
    <button id="testBtn">Test Partial Save</button>
    <div id="result"></div>

    <script>
        document.getElementById('testBtn').addEventListener('click', async function() {
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = 'Sending request...';
            
            try {
                const res = await fetch('/api/candidates/public/partial-save/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        full_name: 'Test User',
                        cpf: '123.456.789-00',
                        phone_number: '11 98765-4321',
                        position_applied: 'Pintor'
                    }),
                });
                const data = await res.json();
                resultDiv.textContent = `Response (${res.status}): ${JSON.stringify(data)}`;
                console.log('Response:', data);
            } catch (e) {
                resultDiv.textContent = `Error: ${e.message}`;
                console.error('Error:', e);
            }
        });
    </script>
</body>
</html>
